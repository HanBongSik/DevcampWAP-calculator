<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <title>calculator</title>
    <style media='screen'>
      .title {text-align: center;width: 300px; height: 40px}
      .calculator-view {background-color: #cacade;width: 300px;height: 100px}
      .calculator-totalvalue {background-color: #d0deca;width: 300px;height: 50px}
      .container input#display-view {ime-mode: disabled;color:#d0deca;}
      .calculator-input {width: 300px;height: 30px;}
    </style>
    <script type='text/javascript'>
      var totalValue = '';

      function fnCalculator() {
        var sInputTxt = inputCalculator.value;

      }
      function onlyNumber(event){
        var f = document.getElementById('inputCalculator')
        event = event || window.event;
        var keyID = (event.which) ? event.which : event.keyCode;
        if ( (keyID >= 48 && keyID <= 57) || (keyID >= 96 && keyID <= 105) || keyID == 8 || keyID == 46 || keyID == 37 || keyID == 39 || keyID == 187 || keyID == 189 || keyID == 107 || keyID == 109 || keyID == 13 ){
          if ( keyID == 109 || keyID == 189  ) {
            //alert('-');
            //마이너스
            totalValue = totalValue + f.value + '-';
            document.getElementById('totalCalculator').innerHTML = totalValue;
            f.value = '';
          }else if ( keyID == 187 || keyID == 107 ) {
            //alert('+');
            //플러스
            totalValue = totalValue + f.value + '+';
            document.getElementById('totalCalculator').innerHTML = totalValue;
            f.value = '';
          }else if ( keyID == 13 ) {
            //엔터
            if (f.value != '') {
              totalValue = totalValue + f.value;
              document.getElementById('totalCalculator').innerHTML = totalValue;
              document.getElementById('totalValueView').innerHTML = eval(totalValue);
              f.value = '';
            }
            return;
          }
          return;
        }
        else{
          return false;
        }
      }
      function removeChar(event) {
        event = event || window.event;
        var keyID = (event.which) ? event.which : event.keyCode;
        if ( keyID == 8 || keyID == 46 || keyID == 37 || keyID == 39 || keyID == 187 || keyID == 189 ||keyID == 107 || keyID == 109 )
          return;
        else
          event.target.value = event.target.value.replace(/[^0-9]/g, '');
      }
      function fnReset() {
        //초기화
        totalValue = '';
        document.getElementById('inputCalculator').value = '';
        document.getElementById('totalCalculator').innerHTML = '';
        document.getElementById('totalValueView').innerHTML = '';
      }
    </script>
  </head>
  <body>
    <div class="container">
      <div class="title">
        계산기
      </div>
      <div class="calculator-input">
        <input type="text" name="inputCalculator" id="inputCalculator" class="display-view" onkeydown="return onlyNumber(event)" onkeyup="removeChar(event)" style="ime-mode:disabled;" placeholder="숫자, +, - 만 입력가능합니다.">
        <button type="button" name="bnReset" onclick="fnReset();">C</button>
      </div>
      <div class="calculator-view" id="totalCalculator">

      </div>
      <div class="calculator-totalvalue" id="totalValueView">

      </div>
    </div>
  </body>
</html>
